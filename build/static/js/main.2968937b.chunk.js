(this.webpackJsonpsnapbase=this.webpackJsonpsnapbase||[]).push([[0],{35:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(28),n=a.n(s),i=(a(35),a(16)),r=a(4),l=a(2),j=function(){return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)("h1",{children:"Snapbase"}),Object(l.jsxs)("div",{className:"links",children:[Object(l.jsx)(i.b,{to:"/",children:"HomePage"}),Object(l.jsx)(i.b,{to:"/Snap",children:"Snap"})]})]})},o=a.p+"static/media/image.21ab2e2e.svg",d=function(){return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("div",{className:"svg",children:Object(l.jsx)("img",{src:o,style:{height:200,width:400},alt:"images"})}),Object(l.jsxs)("p",{children:["Namaste! Snapbase is a public photo-library application where users can upload and delete public images. Your images are public until these are hosted with us. Till then share any snap you want the world to see.",Object(l.jsx)("br",{}),"Get @Snapped!"]}),Object(l.jsx)("div",{className:"footer",children:Object(l.jsxs)("p",{children:[" ","Built with \u2764\ufe0f\ufe0f\ufe0f\ufe0f by",Object(l.jsx)("a",{href:"https://github.com/thevinayysharma",children:"Vinay Sharma"})]})})]})},b=a(12),u=function(){return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("div",{className:"svg",children:Object(l.jsx)("img",{src:o,style:{height:200,width:400},alt:"images"})}),Object(l.jsx)("p",{children:"Welcome to Snapbase, snap your things below"})]})},p=a(23),h=a.n(p),O=a(30),m=a(17);a(44),a(45);m.a.initializeApp({apiKey:"AIzaSyCuGTzHssHLoqIrGJtlYhcUWc8L-r6YJVA",authDomain:"snapbase-987f7.firebaseapp.com",projectId:"snapbase-987f7",storageBucket:"snapbase-987f7.appspot.com",messagingSenderId:"247535167930",appId:"1:247535167930:web:220a1339b53f7854965583"});var x=m.a.storage(),f=m.a.firestore(),g=m.a.firestore.FieldValue.serverTimestamp,v=function(e){var t=Object(c.useState)(0),a=Object(b.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(null),r=Object(b.a)(i,2),l=r[0],j=r[1],o=Object(c.useState)(null),d=Object(b.a)(o,2),u=d[0],p=d[1];return Object(c.useEffect)((function(){var t=x.ref(e.name),a=f.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){j(e)}),Object(O.a)(h.a.mark((function e(){var c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return c=e.sent,s=g(),e.next=6,a.add({url:c,createdAt:s});case 6:p(c);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:s,url:u,error:l}},y=a(47),S=function(e){var t=e.file,a=e.setFile,s=v(t),n=s.url,i=s.progress;return Object(c.useEffect)((function(){n&&a(null)}),[n,a]),Object(l.jsx)(y.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})},w=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),i=Object(b.a)(n,2),r=i[0],j=i[1],o=["image/png","image/jpeg","image/jpg"];return Object(l.jsxs)("div",{className:"form",children:[Object(l.jsx)("form",{children:Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target.files[0];t&&o.includes(t.type)?(s(t),j(" ")):(s(null),j("Check your file type"))},type:"file"}),Object(l.jsx)("span",{children:"Upload Snap"})]})}),Object(l.jsxs)("div",{className:"output",children:[r&&Object(l.jsx)("div",{className:"error",children:r}),a&&Object(l.jsx)("div",{children:a.name}),a&&Object(l.jsx)(S,{file:a,setFile:s})]})]})},N=a(25),k=function(e){var t=Object(c.useState)([]),a=Object(b.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)((function(){var t=f.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id}))})),n(t)}));return function(){return t()}}),[e]),{docs:s}},I=function(e){var t=e.setSelectedImg,a=k("images").docs;return Object(l.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(l.jsx)(y.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:Object(l.jsx)(y.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},A=function(e){var t=e.setSelectedImg,a=e.selectedImg;return Object(l.jsx)(y.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:Object(l.jsx)(y.a.img,{src:a,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},B=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],s=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsx)(w,{}),Object(l.jsx)(I,{setSelectedImg:s}),a&&Object(l.jsx)(A,{selectedImg:a,setSelectedImg:s})]})},C=a.p+"static/media/errorimage.29e06567.svg";function E(){window.location.href="/"}var H=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"svg-error",children:Object(l.jsx)("img",{src:C,style:{height:300,width:400},alt:"404 error"})}),Object(l.jsx)("button",{className:"err-btn",onClick:E,children:"Back to Home!"})]})};function J(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{exact:!0,path:"/",children:Object(l.jsx)(d,{})}),Object(l.jsx)(r.a,{path:"/Snap",children:Object(l.jsx)(B,{})}),Object(l.jsx)(r.a,{path:"*",children:Object(l.jsx)(H,{})})]})]})})}var L=document.getElementById("root");n.a.render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(J,{})}),L)}},[[43,1,2]]]);
//# sourceMappingURL=main.2968937b.chunk.js.map
{"version":3,"sources":["components/Navbar.js","Assets/image.svg","components/Homepage.js","components/Title.js","firebase/config.js","Hooks/useStorage.js","components/ProgressBar.js","components/Form.js","Hooks/useFirestore.js","components/ImageGrid.js","components/Modal.js","components/Snap.js","Assets/errorimage.svg","components/ErrorPage.js","App.js","index.js"],"names":["Navbar","className","to","Homepage","src","image","style","height","width","alt","href","Title","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","useStorage","file","useState","progress","setProgress","error","setError","url","setUrl","useEffect","storageRef","ref","name","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","ProgressBar","setFile","motion","div","initial","animate","Form","types","onChange","e","selected","target","files","includes","type","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","doc","push","data","id","ImageGrid","setSelectedImg","map","layout","whileHover","opacity","onClick","img","transition","delay","Modal","selectedImg","classList","contains","y","Snap","handleClick","window","location","ErrorPage","errorimage","App","exact","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.2968937b.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <h1>Snapbase</h1>\r\n      <div className=\"links\">\r\n        <Link to=\"/\">HomePage</Link>\r\n        <Link to=\"/Snap\">Snap</Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export default __webpack_public_path__ + \"static/media/image.21ab2e2e.svg\";","import React from \"react\";\r\nimport image from \"../Assets/image.svg\";\r\n\r\nconst Homepage = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"svg\">\r\n        <img src={image} style={{ height: 200, width: 400 }} alt=\"images\" />\r\n      </div>\r\n      <p>\r\n        Namaste! Snapbase is a public photo-library application where users can\r\n        upload and delete public images. Your images are public until these are\r\n        hosted with us. Till then share any snap you want the world to see.\r\n        <br />\r\n        Get @Snapped!\r\n      </p>\r\n      <div className=\"footer\">\r\n        <p>\r\n          {\" \"}\r\n          Built with ❤️️️️ by\r\n          <a href=\"https://github.com/thevinayysharma\">Vinay Sharma</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\nimport image from \"../Assets/image.svg\";\r\n\r\nconst Title = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"svg\">\r\n        <img src={image} style={{ height: 200, width: 400 }} alt=\"images\" />\r\n      </div>\r\n      <p>Welcome to Snapbase, snap your things below</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/firestore\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCuGTzHssHLoqIrGJtlYhcUWc8L-r6YJVA\",\r\n  authDomain: \"snapbase-987f7.firebaseapp.com\",\r\n  projectId: \"snapbase-987f7\",\r\n  storageBucket: \"snapbase-987f7.appspot.com\",\r\n  messagingSenderId: \"247535167930\",\r\n  appId: \"1:247535167930:web:220a1339b53f7854965583\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst projectStorage = firebase.storage();\r\nconst projectFirestore = firebase.firestore();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\nexport { projectStorage, projectFirestore, timestamp };\r\n","import { useState, useEffect } from \"react\";\r\nimport {\r\n  projectStorage,\r\n  projectFirestore,\r\n  timestamp\r\n} from \"../firebase/config\";\r\n\r\nconst useStorage = (file) => {\r\n  const [progress, setProgress] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // references\r\n    const storageRef = projectStorage.ref(file.name);\r\n    const collectionRef = projectFirestore.collection(\"images\");\r\n\r\n    storageRef.put(file).on(\r\n      \"state_changed\",\r\n      (snap) => {\r\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n        setProgress(percentage);\r\n      },\r\n      (err) => {\r\n        setError(err);\r\n      },\r\n      async () => {\r\n        const url = await storageRef.getDownloadURL();\r\n        const createdAt = timestamp();\r\n        await collectionRef.add({ url, createdAt });\r\n        setUrl(url);\r\n      }\r\n    );\r\n  }, [file]);\r\n\r\n  return { progress, url, error };\r\n};\r\n\r\nexport default useStorage;\r\n","import React, { useEffect } from \"react\";\r\nimport useStorage from \"../Hooks/useStorage\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst ProgressBar = ({ file, setFile }) => {\r\n  const { url, progress } = useStorage(file);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      setFile(null);\r\n    }\r\n  }, [url, setFile]);\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"progress-bar\"\r\n      initial={{ width: 0 }}\r\n      animate={{ width: progress + \"%\" }}\r\n    ></motion.div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n","import React, { useState } from \"react\";\r\nimport ProgressBar from \"./ProgressBar\";\r\n\r\nconst Form = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n\r\n  function handleChange(e) {\r\n    var selected = e.target.files[0];\r\n\r\n    if (selected && types.includes(selected.type)) {\r\n      setFile(selected);\r\n      setError(\" \");\r\n    } else {\r\n      setFile(null);\r\n      setError(\"Check your file type\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <form>\r\n        <label>\r\n          <input onChange={handleChange} type=\"file\" />\r\n          <span>Upload Snap</span>\r\n        </label>\r\n      </form>\r\n      <div className=\"output\">\r\n        {error && <div className=\"error\">{error}</div>}\r\n        {file && <div>{file.name}</div>}\r\n        {file && <ProgressBar file={file} setFile={setFile} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import { projectFirestore } from \"../firebase/config\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst useFirestore = (collection) => {\r\n  const [docs, setDocs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unsub = projectFirestore\r\n      .collection(collection)\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((snap) => {\r\n        let documents = [];\r\n        snap.forEach((doc) => {\r\n          documents.push({ ...doc.data(), id: doc.id });\r\n        });\r\n        setDocs(documents);\r\n      });\r\n\r\n    return () => unsub();\r\n  }, [collection]);\r\n\r\n  return { docs };\r\n};\r\n\r\nexport default useFirestore;\r\n","import React from \"react\";\r\nimport useFirestore from \"../Hooks/useFirestore\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst ImageGrid = ({ setSelectedImg }) => {\r\n  const { docs } = useFirestore(\"images\");\r\n\r\n  return (\r\n    <div className=\"img-grid\">\r\n      {docs &&\r\n        docs.map((doc) => (\r\n          <motion.div\r\n            className=\"img-wrap\"\r\n            key={doc.id}\r\n            layout\r\n            whileHover={{ opacity: 1 }}\r\n            onClick={() => setSelectedImg(doc.url)}\r\n          >\r\n            <motion.img\r\n              src={doc.url}\r\n              alt=\"uploaded pic\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 1 }}\r\n            />\r\n          </motion.div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageGrid;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst Modal = ({ setSelectedImg, selectedImg }) => {\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains(\"backdrop\")) {\r\n      setSelectedImg(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={handleClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      <motion.img\r\n        src={selectedImg}\r\n        alt=\"enlarged pic\"\r\n        initial={{ y: \"-100vh\" }}\r\n        animate={{ y: 0 }}\r\n      />\r\n    </motion.div>\r\n  );\r\n};\r\nexport default Modal;\r\n","import React, { useState } from \"react\";\r\nimport Title from \"../components/Title\";\r\nimport Form from \"../components/Form\";\r\nimport ImageGrid from \"../components/ImageGrid\";\r\nimport Modal from \"../components/Modal\";\r\n\r\nconst Snap = () => {\r\n  const [selectedImg, setSelectedImg] = useState(null);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Title />\r\n      <Form />\r\n      <ImageGrid setSelectedImg={setSelectedImg} />\r\n      {selectedImg && (\r\n        <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Snap;\r\n","export default __webpack_public_path__ + \"static/media/errorimage.29e06567.svg\";","import React from \"react\";\r\nimport errorimage from \"../Assets/errorimage.svg\";\r\n\r\nfunction handleClick(){\r\n    window.location.href=\"/\";\r\n}\r\n\r\nconst ErrorPage= () => {\r\n    return(\r\n        <div>\r\n          <div className=\"svg-error\">\r\n            <img src={errorimage} style={{ height: 300, width: 400 }} alt=\"404 error\" />\r\n          </div>\r\n          <button className=\"err-btn\" onClick={handleClick}>Back to Home!</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorPage;","import React from \"react\";\r\nimport \"./styles.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport HomePage from \"./components/Homepage\";\r\nimport Snap from \"./components/Snap\";\r\nimport ErrorPage from \"./components/ErrorPage\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Navbar />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomePage />\r\n          </Route>\r\n          <Route path=\"/Snap\">\r\n            <Snap />\r\n          </Route>\r\n          <Route path=\"*\">\r\n            <ErrorPage />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}